; letâ€™s make inc and dec derivable
(make-update-deriver 'inc)
(make-update-deriver 'dec)

(deftype T [x Int y Int z Int])
(derive inc T)
(derive dec T)
(derive zero T)
(derive str T)
(derive = T eq)

(defn main []
  (do
    (println* &(T.inc (T.init 1 2 3)))
    (println* &(T.dec (T.init 1 2 3)))
    (println* &(T.zero))
    (println* (= &(T.init 1 2 3) &(T.init 1 2 3)))
    (println* (= &(T.init 1 2 3) &(T.init 1 3 2)))))
